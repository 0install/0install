<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Make (0install-solver.Zeroinstall_solver__Solver_core.Make)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">0install-solver</a> &#x00BB; <a href="../index.html">Zeroinstall_solver__Solver_core</a> &#x00BB; Make</nav><h1>Module <code>Zeroinstall_solver__Solver_core.Make</code></h1></header><h3 class="heading">Parameters</h3><ul><li><code><a href="argument-1-Model/index.html">Model</a> : <a href="../../Zeroinstall_solver/S/index.html#module-type-SOLVER_INPUT">Zeroinstall_solver.S.SOLVER_INPUT</a></code></li></ul><h3 class="heading">Signature</h3><dl><dt class="spec module" id="module-SolverData"><a href="#module-SolverData" class="anchor"></a><code><span class="keyword">module</span> <a href="SolverData/index.html">SolverData</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>We attach this data to each SAT variable.</p></dd></dl><div class="spec module" id="module-S"><a href="#module-S" class="anchor"></a><code><span class="keyword">module</span> <a href="S/index.html">S</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec type" id="type-decision_state"><a href="#type-decision_state" class="anchor"></a><code><span class="keyword">type</span> decision_state</code><code> = </code><table class="variant"><tr id="type-decision_state.Undecided" class="anchored"><td class="def constructor"><a href="#type-decision_state.Undecided" class="anchor"></a><code>| </code><code><span class="constructor">Undecided</span> <span class="keyword">of</span> <a href="S/index.html#type-lit">S.lit</a></code></td></tr><tr id="type-decision_state.Selected" class="anchored"><td class="def constructor"><a href="#type-decision_state.Selected" class="anchor"></a><code>| </code><code><span class="constructor">Selected</span> <span class="keyword">of</span> <span><a href="argument-1-Model/index.html#type-dependency">Model.dependency</a> list</span> * <span><a href="argument-1-Model/index.html#type-command_name">Model.command_name</a> list</span></code></td></tr><tr id="type-decision_state.Unselected" class="anchored"><td class="def constructor"><a href="#type-decision_state.Unselected" class="anchor"></a><code>| </code><code><span class="constructor">Unselected</span></code></td></tr></table></dt></dl><div class="spec class-type" id="class-type-candidates"><a href="#class-type-candidates" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-candidates/index.html">candidates</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div class="spec class" id="class-impl_candidates"><a href="#class-impl_candidates" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-impl_candidates/index.html">impl_candidates</a> : <a href="argument-1-Model/Role/index.html#type-t">Model.Role.t</a> <span>&#45;&gt;</span> <span><a href="S/index.html#type-at_most_one_clause">S.at_most_one_clause</a> option</span> <span>&#45;&gt;</span> <span><span>(<a href="S/index.html#type-lit">S.lit</a> * <a href="argument-1-Model/index.html#type-impl">Model.impl</a>)</span> list</span> <span>&#45;&gt;</span> <span><a href="argument-1-Model/index.html#type-impl">Model.impl</a> option</span> <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec class" id="class-command_candidates"><a href="#class-command_candidates" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-command_candidates/index.html">command_candidates</a> : <a href="argument-1-Model/Role/index.html#type-t">Model.Role.t</a> <span>&#45;&gt;</span> <span><a href="S/index.html#type-at_most_one_clause">S.at_most_one_clause</a> option</span> <span>&#45;&gt;</span> <span><span>(<a href="S/index.html#type-lit">S.lit</a> * <a href="argument-1-Model/index.html#type-command">Model.command</a>)</span> list</span> <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Holds all the commands with a given name within an interface.</p></dd></dl><div class="spec module" id="module-CommandRoleEntry"><a href="#module-CommandRoleEntry" class="anchor"></a><code><span class="keyword">module</span> <a href="CommandRoleEntry/index.html">CommandRoleEntry</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-RoleEntry"><a href="#module-RoleEntry" class="anchor"></a><code><span class="keyword">module</span> <a href="RoleEntry/index.html">RoleEntry</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-ImplCache"><a href="#module-ImplCache" class="anchor"></a><code><span class="keyword">module</span> <a href="ImplCache/index.html">ImplCache</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-CommandCache"><a href="#module-CommandCache" class="anchor"></a><code><span class="keyword">module</span> <a href="CommandCache/index.html">CommandCache</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-RoleMap"><a href="#module-RoleMap" class="anchor"></a><code><span class="keyword">module</span> RoleMap = <a href="ImplCache/index.html#module-M">ImplCache.M</a></code></div><dl><dt class="spec type" id="type-diagnostics"><a href="#type-diagnostics" class="anchor"></a><code><span class="keyword">type</span> diagnostics</code><code> = <a href="S/index.html#type-lit">S.lit</a></code></dt></dl><dl><dt class="spec value" id="val-explain"><a href="#val-explain" class="anchor"></a><code><span class="keyword">val</span> explain : <a href="S/index.html#type-lit">S.lit</a> <span>&#45;&gt;</span> string</code></dt></dl><dl><dt class="spec type" id="type-selection"><a href="#type-selection" class="anchor"></a><code><span class="keyword">type</span> selection</code><code> = </code><code>{</code><table class="record"><tr id="type-selection.impl" class="anchored"><td class="def field"><a href="#type-selection.impl" class="anchor"></a><code>impl : <a href="argument-1-Model/index.html#type-impl">Model.impl</a>;</code></td><td class="doc"><p>The implementation chosen to fill the role</p></td></tr><tr id="type-selection.commands" class="anchored"><td class="def field"><a href="#type-selection.commands" class="anchor"></a><code>commands : <span><a href="argument-1-Model/index.html#type-command_name">Model.command_name</a> list</span>;</code></td><td class="doc"><p>The commands required</p></td></tr><tr id="type-selection.diagnostics" class="anchored"><td class="def field"><a href="#type-selection.diagnostics" class="anchor"></a><code>diagnostics : <a href="index.html#type-diagnostics">diagnostics</a>;</code></td><td class="doc"><p>Extra information useful for diagnostics</p></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-add_replaced_by_conflicts"><a href="#val-add_replaced_by_conflicts" class="anchor"></a><code><span class="keyword">val</span> add_replaced_by_conflicts : <a href="S/index.html#type-t">S.t</a> <span>&#45;&gt;</span> <a href="ImplCache/index.html#type-snapshot">ImplCache.snapshot</a> <span>&#45;&gt;</span> <span><span>(&lt; get_real_vars : <span><a href="S/index.html#type-lit">S.lit</a> list</span>; .. &gt; * <a href="index.html#module-RoleEntry">RoleEntry</a>.t)</span> list</span> <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec module" id="module-Machine_group"><a href="#module-Machine_group" class="anchor"></a><code><span class="keyword">module</span> <a href="Machine_group/index.html">Machine_group</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>On multi-arch systems, we can select 32-bit or 64-bit implementations, but not both in the same set of selections.</p></dd></dl><div class="spec module" id="module-Conflict_classes"><a href="#module-Conflict_classes" class="anchor"></a><code><span class="keyword">module</span> <a href="Conflict_classes/index.html">Conflict_classes</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-process_self_command"><a href="#val-process_self_command" class="anchor"></a><code><span class="keyword">val</span> process_self_command : <a href="S/index.html#type-t">S.t</a> <span>&#45;&gt;</span> <span>(<span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> &lt; get_vars : <span><a href="S/index.html#type-lit">S.lit</a> list</span>; .. &gt;)</span> <span>&#45;&gt;</span> <a href="S/index.html#type-lit">S.lit</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>If this binding depends on a command (&lt;executable-in-*&gt;), add that to the problem. * </p><dl><dt>parameter user_var</dt><dd><p>indicates when this binding is used * </p><p>@param dep_iface</p><p>the required interface this binding targets</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-process_dep"><a href="#val-process_dep" class="anchor"></a><code><span class="keyword">val</span> process_dep : <a href="S/index.html#type-t">S.t</a> <span>&#45;&gt;</span> <span>(<a href="argument-1-Model/Role/index.html#type-t">Model.Role.t</a> <span>&#45;&gt;</span> &lt; partition : <span>(<a href="argument-1-Model/index.html#type-impl">Model.impl</a> <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <span><a href="S/index.html#type-lit">S.lit</a> list</span> * <span><a href="S/index.html#type-lit">S.lit</a> list</span>; .. &gt;)</span> <span>&#45;&gt;</span> <span>(<span>(<a href="argument-1-Model/index.html#type-command_name">Model.command_name</a> * <a href="argument-1-Model/Role/index.html#type-t">Model.Role.t</a>)</span> <span>&#45;&gt;</span> &lt; get_vars : <span><a href="S/index.html#type-lit">S.lit</a> list</span>; .. &gt;)</span> <span>&#45;&gt;</span> <a href="S/index.html#type-lit">S.lit</a> <span>&#45;&gt;</span> <a href="argument-1-Model/index.html#type-dependency">Model.dependency</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-make_impl_clause"><a href="#val-make_impl_clause" class="anchor"></a><code><span class="keyword">val</span> make_impl_clause : <a href="S/index.html#type-t">S.t</a> <span>&#45;&gt;</span> <span>dummy_impl:<span><a href="argument-1-Model/index.html#type-impl">Model.impl</a> option</span></span> <span>&#45;&gt;</span> <span><span><span>(<a href="class-impl_candidates/index.html">impl_candidates</a> * <a href="argument-1-Model/Role/index.html#type-t">Model.Role.t</a>)</span> list</span> Stdlib.ref</span> <span>&#45;&gt;</span> <a href="argument-1-Model/Role/index.html#type-t">Model.Role.t</a> <span>&#45;&gt;</span> <a href="class-impl_candidates/index.html">impl_candidates</a> * <span><span>(<a href="S/index.html#type-lit">S.lit</a> * <a href="argument-1-Model/index.html#type-impl">Model.impl</a>)</span> list</span></code></dt><dt class="spec value" id="val-make_commands_clause"><a href="#val-make_commands_clause" class="anchor"></a><code><span class="keyword">val</span> make_commands_clause : <a href="S/index.html#type-t">S.t</a> <span>&#45;&gt;</span> <span>(<a href="argument-1-Model/Role/index.html#type-t">Model.Role.t</a> <span>&#45;&gt;</span> &lt; get_commands : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span>(<a href="S/index.html#type-lit">S.lit</a> * <a href="argument-1-Model/index.html#type-command">Model.command</a>)</span> list</span>; .. &gt;)</span> <span>&#45;&gt;</span> <span>(<a href="S/index.html#type-lit">S.lit</a> <span>&#45;&gt;</span> <a href="argument-1-Model/Role/index.html#type-t">Model.Role.t</a> <span>&#45;&gt;</span> <span><a href="argument-1-Model/index.html#type-command_name">Model.command_name</a> list</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span>(<a href="S/index.html#type-lit">S.lit</a> <span>&#45;&gt;</span> <span><a href="argument-1-Model/index.html#type-dependency">Model.dependency</a> list</span> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> * <a href="argument-1-Model/Role/index.html#type-t">Model.Role.t</a>)</span> <span>&#45;&gt;</span> <a href="class-command_candidates/index.html">command_candidates</a> * <span>(unit <span>&#45;&gt;</span> unit)</span></code></dt><dt class="spec value" id="val-build_problem"><a href="#val-build_problem" class="anchor"></a><code><span class="keyword">val</span> build_problem : <a href="argument-1-Model/index.html#type-requirements">Model.requirements</a> <span>&#45;&gt;</span> <a href="S/index.html#type-t">S.t</a> <span>&#45;&gt;</span> <span>dummy_impl:<span><a href="argument-1-Model/index.html#type-impl">Model.impl</a> option</span></span> <span>&#45;&gt;</span> <a href="ImplCache/index.html#type-snapshot">ImplCache.snapshot</a> * <a href="CommandCache/index.html#type-snapshot">CommandCache.snapshot</a></code></dt><dd><p>Starting from <code>root_req</code>, explore all the feeds, commands and implementations we might need, adding * all of them to <code>sat_problem</code>.</p></dd></dl><div class="spec module" id="module-Output"><a href="#module-Output" class="anchor"></a><code><span class="keyword">module</span> <a href="Output/index.html">Output</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-do_solve"><a href="#val-do_solve" class="anchor"></a><code><span class="keyword">val</span> do_solve : <span>closest_match:bool</span> <span>&#45;&gt;</span> <a href="Output/index.html#type-requirements">Output.requirements</a> <span>&#45;&gt;</span> <span><a href="Output/index.html#type-t">Output.t</a> option</span></code></dt></dl></div></body></html>