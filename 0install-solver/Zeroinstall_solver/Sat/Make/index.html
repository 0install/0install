<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Make (0install-solver.Zeroinstall_solver.Sat.Make)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../index.html">0install-solver</a> &#x00BB; <a href="../../index.html">Zeroinstall_solver</a> &#x00BB; <a href="../index.html">Sat</a> &#x00BB; Make</nav><h1>Module <code>Sat.Make</code></h1><nav class="toc"><ul><li><a href="#setting-up-the-problem.">Setting up the problem.</a></li><li><a href="#debugging">Debugging</a></li></ul></nav></header><h3 class="heading">Parameters</h3><ul><li><code><a href="argument-1-User/index.html">User</a> : <a href="../index.html#module-type-USER">USER</a></code></li></ul><h3 class="heading">Signature</h3><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>A SAT problem consists of a set of variables and a set of clauses which must be satisfied.</p></dd></dl><dl><dt class="spec type" id="type-var_value"><a href="#type-var_value" class="anchor"></a><code><span class="keyword">type</span> var_value</code><code> = </code><table class="variant"><tr id="type-var_value.True" class="anchored"><td class="def constructor"><a href="#type-var_value.True" class="anchor"></a><code>| </code><code><span class="constructor">True</span></code></td></tr><tr id="type-var_value.False" class="anchored"><td class="def constructor"><a href="#type-var_value.False" class="anchor"></a><code>| </code><code><span class="constructor">False</span></code></td></tr><tr id="type-var_value.Undecided" class="anchored"><td class="def constructor"><a href="#type-var_value.Undecided" class="anchor"></a><code>| </code><code><span class="constructor">Undecided</span></code></td></tr></table></dt><dt class="spec type" id="type-lit"><a href="#type-lit" class="anchor"></a><code><span class="keyword">type</span> lit</code></dt><dd><p>A literal is either a variable (e.g. <code>A</code>) or a negated variable (<code>not A</code>).</p></dd></dl><dl><dt class="spec value" id="val-neg"><a href="#val-neg" class="anchor"></a><code><span class="keyword">val</span> neg : <a href="index.html#type-lit">lit</a> <span>&#45;&gt;</span> <a href="index.html#type-lit">lit</a></code></dt><dt class="spec value" id="val-add_variable"><a href="#val-add_variable" class="anchor"></a><code><span class="keyword">val</span> add_variable : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="argument-1-User/index.html#type-t">User.t</a> <span>&#45;&gt;</span> <a href="index.html#type-lit">lit</a></code></dt></dl><dl><dt class="spec type" id="type-clause"><a href="#type-clause" class="anchor"></a><code><span class="keyword">type</span> clause</code></dt><dd><p>A clause is a boolean expression made up of literals. e.g. <code>A and B and not(C)</code></p></dd></dl><section><header><h3 id="setting-up-the-problem."><a href="#setting-up-the-problem." class="anchor"></a>Setting up the problem.</h3></header><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : unit <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Create a problem.</p></dd></dl><dl><dt class="spec type" id="type-solution"><a href="#type-solution" class="anchor"></a><code><span class="keyword">type</span> solution</code><code> = <a href="index.html#type-lit">lit</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Get the assignment for this literal in the discovered solution.</p></dd></dl><dl><dt class="spec value" id="val-impossible"><a href="#val-impossible" class="anchor"></a><code><span class="keyword">val</span> impossible : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Indicate that the problem is unsolvable, before even starting. This is a convenience feature so that clients don't need a separate code path for problems they discover during setup vs problems discovered by the solver.</p></dd></dl><dl><dt class="spec type" id="type-added_result"><a href="#type-added_result" class="anchor"></a><code><span class="keyword">type</span> added_result</code><code> = </code><table class="variant"><tr id="type-added_result.AddedFact" class="anchored"><td class="def constructor"><a href="#type-added_result.AddedFact" class="anchor"></a><code>| </code><code><span class="constructor">AddedFact</span> <span class="keyword">of</span> bool</code></td></tr><tr id="type-added_result.AddedClause" class="anchored"><td class="def constructor"><a href="#type-added_result.AddedClause" class="anchor"></a><code>| </code><code><span class="constructor">AddedClause</span> <span class="keyword">of</span> <a href="index.html#type-clause">clause</a></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-at_least_one"><a href="#val-at_least_one" class="anchor"></a><code><span class="keyword">val</span> at_least_one : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>?&#8288;reason:string</span> <span>&#45;&gt;</span> <span><a href="index.html#type-lit">lit</a> list</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Add a clause requiring at least one literal to be <code>True</code>. e.g. <code>A or B or not(C)</code>. <code>reason</code> is used in debug messages.</p></dd></dl><dl><dt class="spec value" id="val-implies"><a href="#val-implies" class="anchor"></a><code><span class="keyword">val</span> implies : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>?&#8288;reason:string</span> <span>&#45;&gt;</span> <a href="index.html#type-lit">lit</a> <span>&#45;&gt;</span> <span><a href="index.html#type-lit">lit</a> list</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>If the first variable is true, at least one of the others must be. <code>implies p a bs</code> is equivalent to <code>at_least_one p ((neg a) :: bs)</code>. <code>reason</code> is used in debug messages.</p></dd></dl><dl><dt class="spec type" id="type-at_most_one_clause"><a href="#type-at_most_one_clause" class="anchor"></a><code><span class="keyword">type</span> at_most_one_clause</code></dt></dl><dl><dt class="spec value" id="val-at_most_one"><a href="#val-at_most_one" class="anchor"></a><code><span class="keyword">val</span> at_most_one : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-lit">lit</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-at_most_one_clause">at_most_one_clause</a></code></dt><dd><p>Add a clause preventing more than one literal in the list from being <code>True</code>.</p></dd></dl><dl><dt class="spec value" id="val-run_solver"><a href="#val-run_solver" class="anchor"></a><code><span class="keyword">val</span> run_solver : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>(unit <span>&#45;&gt;</span> <span><a href="index.html#type-lit">lit</a> option</span>)</span> <span>&#45;&gt;</span> <span><a href="index.html#type-solution">solution</a> option</span></code></dt><dd><p><code>run_solver decider</code> tries to solve the SAT problem. It simplifies it as much as possible first. When it has two paths which both appear possible, it calls <code>decider ()</code> to choose which to explore first. If this leads to a solution, it will be used. If not, the other path will be tried. If <code>decider</code> returns <code>None</code>, we try setting the remaining variables to <code>False</code> (<code>decider</code> will not be called again unless we backtrack). Use this to tidy up at the end, when you no longer care about the order.</p></dd></dl><dl><dt class="spec value" id="val-get_best_undecided"><a href="#val-get_best_undecided" class="anchor"></a><code><span class="keyword">val</span> get_best_undecided : <a href="index.html#type-at_most_one_clause">at_most_one_clause</a> <span>&#45;&gt;</span> <span><a href="index.html#type-lit">lit</a> option</span></code></dt><dd><p>Return the first literal in the list whose value is <code>Undecided</code>, or <code>None</code> if they're all decided. The decider function may find this useful.</p></dd></dl><dl><dt class="spec value" id="val-get_selected"><a href="#val-get_selected" class="anchor"></a><code><span class="keyword">val</span> get_selected : <a href="index.html#type-at_most_one_clause">at_most_one_clause</a> <span>&#45;&gt;</span> <span><a href="index.html#type-lit">lit</a> option</span></code></dt><dd><p>Return the selected literal, if any.</p></dd></dl></section><section><header><h3 id="debugging"><a href="#debugging" class="anchor"></a>Debugging</h3></header><dl><dt class="spec type" id="type-reason"><a href="#type-reason" class="anchor"></a><code><span class="keyword">type</span> reason</code><code> = </code><table class="variant"><tr id="type-reason.Clause" class="anchored"><td class="def constructor"><a href="#type-reason.Clause" class="anchor"></a><code>| </code><code><span class="constructor">Clause</span> <span class="keyword">of</span> <a href="index.html#type-clause">clause</a></code></td></tr><tr id="type-reason.External" class="anchored"><td class="def constructor"><a href="#type-reason.External" class="anchor"></a><code>| </code><code><span class="constructor">External</span> <span class="keyword">of</span> string</code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-lit_value"><a href="#val-lit_value" class="anchor"></a><code><span class="keyword">val</span> lit_value : <a href="index.html#type-lit">lit</a> <span>&#45;&gt;</span> <a href="index.html#type-var_value">var_value</a></code></dt><dt class="spec value" id="val-get_user_data_for_lit"><a href="#val-get_user_data_for_lit" class="anchor"></a><code><span class="keyword">val</span> get_user_data_for_lit : <a href="index.html#type-lit">lit</a> <span>&#45;&gt;</span> <a href="argument-1-User/index.html#type-t">User.t</a></code></dt><dt class="spec value" id="val-explain_reason"><a href="#val-explain_reason" class="anchor"></a><code><span class="keyword">val</span> explain_reason : <a href="index.html#type-lit">lit</a> <span>&#45;&gt;</span> string</code></dt></dl></section></div></body></html>